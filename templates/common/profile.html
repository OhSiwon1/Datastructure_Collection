
{% extends 'base.html' %}
{% block title %}{{user.number}}{% endblock %}

{% block content %}

<section class="w-100 px-4 py-5" style="border-radius: .5rem .5rem 0 0;">
  <div class="row d-flex justify-content-center">
    <div class="col col-md-9 col-lg-7 col-xl-6">
      <div class="card" style="border-radius: 15px; border: 2px solid #178ca477;">
        <div class="card-body p-4">
          <div class="d-flex">
            <div class="flex-shrink-0">
              <img src="{{use.profile.url}}" class="rounded-circle shadow-1-strong me-3" alt="avatar" width="300" height="300" style="border: 2px solid #072A40;"/>
              {% if request.user == user %}
              <p><input type="button" value="사진변경" onclick="new_window(this);" data-uri="{% url 'common:profile_create' user.id %}"></p>
              {% endif %}
            </div>
            <div class="flex-grow-1 ms-3">
              <h5 class="mb-1">{{use.number}}</h5>
              <p class="mb-2 pb-1">학번: {{use.username}}</p>
              <div class="d-flex justify-content-start rounded-3 p-2 mb-2 " style="background-color: #96abb077; border-radius: 10px;">
                <div class="pb-1 px-2">
                  <p class="small text-muted mb-1">이메일:</p>
                  <p class="mb-0">{{use.email}}</p>
                <div class="py-2">
                  <p class="small text-muted mb-1">프로젝트:</p>
                  {%if project%}
                  <p class="mb-0">{{project.title}}</p>
                  {%else%}
                  <p class="mb-0">없음.</p>
                  {%endif%}
                </div>
                </div>
                
              </div>
              <div class="d-flex pt-2 px-3">
                {%if project%}
                <a href="{%url 'project_detail' project.id %}" type="button" class="btn btn-outline-primary me-1 flex-grow-1 mx-auto">프로젝트</a>
                {%else%}
                <a href="{%url 'main' %}" type="button" class="btn btn-outline-primary me-1 flex-grow-1 mx-auto">메인으로</a>
                {%endif%}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


{% endblock %}

{% block script %}
<script type='text/javascript'>
function new_window(el) {
    window.open(
      el.dataset.uri,
      "Image",
      "width=400, height=300, top=50, left=50"
    );
  }
    </script>
{% endblock %}